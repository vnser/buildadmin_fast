import{e as W,p as $,ao as z,v as B,r as D,m,Y as n,o as i,P as p,Q as r,$ as f,h as N,W as c,V as b,s as e,k as w,j as k,l as s,a0 as j,a8 as _,a9 as h,X as K}from"./vue-DFhsJZqQ.js";import{F as u}from"./index-64RmlQoR.js";import{e as T}from"./index-CPy2hEef.js";import{b as U}from"./validate-BUeDMdsM.js";const E={class:"title"},Y=W({__name:"popupForm",setup(R){const v=T(),d=$(),o=z("baTable"),{t:l}=B.useI18n(),V=D({create_time:[U({name:"date",title:l("wechatUser.create_time")})],update_time:[U({name:"date",title:l("wechatUser.update_time")})]});return(A,t)=>{const y=m("el-form"),x=m("el-scrollbar"),g=m("el-button"),C=m("el-dialog"),S=n("drag"),F=n("zoom"),I=n("loading"),P=n("blur");return i(),p(C,{class:"ba-operate-dialog","close-on-click-modal":!1,"model-value":["Add","Edit"].includes(e(o).form.operate),onClose:e(o).toggleForm,width:"50%"},{header:r(()=>[f((i(),N("div",E,[c(b(e(o).form.operate?e(l)(e(o).form.operate):""),1)])),[[S,[".ba-operate-dialog",".el-dialog__header"]],[F,".ba-operate-dialog"]])]),footer:r(()=>[w("div",{style:k("width: calc(100% - "+e(o).form.labelWidth/1.8+"px)")},[s(g,{onClick:t[8]||(t[8]=a=>e(o).toggleForm())},{default:r(()=>[c(b(e(l)("Cancel")),1)]),_:1}),f((i(),p(g,{loading:e(o).form.submitLoading,onClick:t[9]||(t[9]=a=>e(o).onSubmit(d.value)),type:"primary"},{default:r(()=>[c(b(e(o).form.operateIds&&e(o).form.operateIds.length>1?e(l)("Save and edit next item"):e(l)("Save")),1)]),_:1},8,["loading"])),[[P]])],4)]),default:r(()=>[f((i(),p(x,{class:"ba-table-form-scrollbar"},{default:r(()=>[w("div",{class:j(["ba-operate-form","ba-"+e(o).form.operate+"-form"]),style:k(e(v).layout.shrink?"":"width: calc(100% - "+e(o).form.labelWidth/2+"px)")},[e(o).form.loading?K("",!0):(i(),p(y,{key:0,ref_key:"formRef",ref:d,onSubmit:t[6]||(t[6]=_(()=>{},["prevent"])),onKeyup:t[7]||(t[7]=h(a=>e(o).onSubmit(d.value),["enter"])),model:e(o).form.items,"label-position":e(v).layout.shrink?"top":"right","label-width":e(o).form.labelWidth+"px",rules:V},{default:r(()=>[s(u,{label:e(l)("wechatUser.openid"),type:"string",modelValue:e(o).form.items.openid,"onUpdate:modelValue":t[0]||(t[0]=a=>e(o).form.items.openid=a),prop:"openid",placeholder:e(l)("Please input field",{field:e(l)("wechatUser.openid")})},null,8,["label","modelValue","placeholder"]),s(u,{label:e(l)("wechatUser.user_id"),type:"remoteSelect",modelValue:e(o).form.items.user_id,"onUpdate:modelValue":t[1]||(t[1]=a=>e(o).form.items.user_id=a),prop:"user_id","input-attr":{pk:"mm_user.id",field:"username",remoteUrl:"/admin/user.User/index"},placeholder:e(l)("Please select field",{field:e(l)("wechatUser.user_id")})},null,8,["label","modelValue","placeholder"]),s(u,{label:e(l)("wechatUser.share_uid"),type:"remoteSelect",modelValue:e(o).form.items.share_uid,"onUpdate:modelValue":t[2]||(t[2]=a=>e(o).form.items.share_uid=a),prop:"share_uid","input-attr":{pk:"mm_wechat_user.id",field:"id",remoteUrl:"/admin/WechatUser/index"},placeholder:e(l)("Please select field",{field:e(l)("wechatUser.share_uid")})},null,8,["label","modelValue","placeholder"]),s(u,{label:e(l)("wechatUser.remark"),type:"textarea",modelValue:e(o).form.items.remark,"onUpdate:modelValue":t[3]||(t[3]=a=>e(o).form.items.remark=a),prop:"remark","input-attr":{rows:3},onKeyup:[t[4]||(t[4]=h(_(()=>{},["stop"]),["enter"])),t[5]||(t[5]=h(_(a=>e(o).onSubmit(d.value),["ctrl"]),["enter"]))],placeholder:e(l)("Please input field",{field:e(l)("wechatUser.remark")})},null,8,["label","modelValue","placeholder"])]),_:1},8,["model","label-position","label-width","rules"]))],6)]),_:1})),[[I,e(o).form.loading]])]),_:1},8,["model-value","onClose"])}}});export{Y as _};
