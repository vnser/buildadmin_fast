import{e as x,v as C,p as c,au as N,x as T,m as l,o as _,h as B,s,P as E,X as S,l as a,Q as r,k as f}from"./vue-DFhsJZqQ.js";import{_ as I}from"./popupForm.vue_vue_type_script_setup_true_lang-C9e_crsd.js";import{a5 as M}from"./index-CPy2hEef.js";import{d as R,b as A,T as F,a as z}from"./index-Cgr755Cc.js";const G={class:"default-main ba-table-box"},K=f("div",{class:"fa fa-play"},null,-1),O=["src"],U=x({name:"business/video",__name:"index",props:{card:{type:Object,required:!1}},setup(v,{expose:h}){const i=v,{t:e}=C.useI18n(),u=c(),y=R(["weigh-sort","edit","delete"]),n=c(!1),p=c(""),g=o=>{n.value=!0,p.value=o,document.querySelector("video").paly()},t=new A(new M("/admin/business.Video/"),{pk:"id",column:[{type:"selection",align:"center",operator:!1},{label:e("business.video.title"),prop:"title",align:"center",operatorPlaceholder:e("Fuzzy query"),operator:"LIKE",sortable:!1},{label:e("business.video.video_bg_img"),prop:"video_bg_img",align:"center",render:"image",operator:!1},{label:"视频",prop:"video_url",align:"center",operator:"eq",sortable:!1,render:"slot",slotName:"video_url"},{label:e("business.video.weigh"),prop:"weigh",align:"center",operator:"RANGE",sortable:"custom"},{label:e("business.video.status"),prop:"status",align:"center",render:"switch",operator:"eq",sortable:!1,replaceValue:{0:e("business.video.status 0"),1:e("business.video.status 1")}},{label:e("business.video.update_time"),prop:"update_time",align:"center",render:"datetime",operator:"RANGE",sortable:"custom",width:160,timeFormat:"yyyy-mm-dd hh:MM:ss"},{label:e("business.video.create_time"),prop:"create_time",align:"center",render:"datetime",operator:"RANGE",sortable:"custom",width:160,timeFormat:"yyyy-mm-dd hh:MM:ss"},{label:e("Operate"),align:"center",width:140,render:"buttons",buttons:y,operator:!1}],dblClickNotEditColumn:[void 0],filter:{initKey:"card_id",initValue:i.card.id}},{defaultItems:{status:"1"}});N("baTable",t);const m=()=>{var o;t.table.filter={initKey:"card_id",initValue:i.card.id,use_limit:1},(o=t.getIndex())==null||o.then(()=>{t.initSort(),t.dragSort()})};return T(()=>{t.table.ref=u.value,t.mount(),m()}),h({reloadList:m}),(o,b)=>{const k=l("el-alert"),w=l("el-button"),V=l("el-table-column"),q=l("el-dialog");return _(),B("div",G,[s(t).table.remark?(_(),E(k,{key:0,class:"ba-table-alert",title:s(t).table.remark,type:"info","show-icon":""},null,8,["title"])):S("",!0),a(F,{buttons:["refresh","add","edit","delete","comSearch","quickSearch","columnDisplay"],"quick-search-placeholder":s(e)("Quick search placeholder",{fields:s(e)("business.video.quick Search Fields")})},null,8,["quick-search-placeholder"]),a(z,{ref_key:"tableRef",ref:u},{video_url:r(()=>[a(V,{prop:"video_url",label:"视频",width:"180",align:"center"},{default:r(d=>[a(w,{size:"small",onClick:P=>g(d.row.video_url)},{default:r(()=>[K]),_:2},1032,["onClick"])]),_:1})]),_:1},512),a(I,{card:i.card},null,8,["card"]),a(q,{modelValue:n.value,"onUpdate:modelValue":b[0]||(b[0]=d=>n.value=d),title:"播放",width:"50%"},{default:r(()=>[f("video",{width:"100%",src:p.value,autoplay:"",controls:""},null,8,O)]),_:1},8,["modelValue"])])}}});export{U as _};
