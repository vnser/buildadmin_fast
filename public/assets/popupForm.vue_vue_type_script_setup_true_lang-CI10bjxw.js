import{e as F,p as I,ao as $,v as B,r as D,m as p,Y as u,o as d,P as f,Q as n,$ as b,h as N,W as c,V,s as e,k as v,j as w,l as r,a0 as W,a8 as g,a9 as y,X as j}from"./vue-DFhsJZqQ.js";import{F as s}from"./index-64RmlQoR.js";import{e as K}from"./index-CPy2hEef.js";import{b as i}from"./validate-BUeDMdsM.js";const T={class:"title"},X=F({__name:"popupForm",setup(E){const _=K(),m=I(),l=$("baTable"),{t:a}=B.useI18n(),U=D({content_imgs:[i({name:"required",title:"内容图片集"})],name:[i({name:"required",title:"姓名"})],avatar:[i({name:"required",title:"头像"})],phone:[i({name:"required",title:"电话"})],wechat:[i({name:"required",title:"微信号"})],wechat_qrcode:[i({name:"required",title:"微信二维码"})],address_icon:[i({name:"required",title:"地址图标"})],wechat_icon:[i({name:"required",title:"微信图标"})],phone_icon:[i({name:"required",title:"电话图标"})],banner:[i({name:"required",title:"banner"})],address:[i({name:"required",title:"地址"})],createtime:[i({name:"date",title:a("business.card.createtime")})],updatetime:[i({name:"date",title:a("business.card.updatetime")})]});return(R,o)=>{const q=p("el-form"),C=p("el-scrollbar"),h=p("el-button"),k=p("el-dialog"),x=u("drag"),S=u("zoom"),P=u("loading"),z=u("blur");return d(),f(k,{class:"ba-operate-dialog","close-on-click-modal":!1,"model-value":["Add","Edit"].includes(e(l).form.operate),onClose:e(l).toggleForm,width:"50%"},{header:n(()=>[b((d(),N("div",T,[c(V(e(l).form.operate?e(a)(e(l).form.operate):""),1)])),[[x,[".ba-operate-dialog",".el-dialog__header"]],[S,".ba-operate-dialog"]])]),footer:n(()=>[v("div",{style:w("width: calc(100% - "+e(l).form.labelWidth/1.8+"px)")},[r(h,{onClick:o[21]||(o[21]=t=>e(l).toggleForm())},{default:n(()=>[c(V(e(a)("Cancel")),1)]),_:1}),b((d(),f(h,{loading:e(l).form.submitLoading,onClick:o[22]||(o[22]=t=>e(l).onSubmit(m.value)),type:"primary"},{default:n(()=>[c(V(e(l).form.operateIds&&e(l).form.operateIds.length>1?e(a)("Save and edit next item"):e(a)("Save")),1)]),_:1},8,["loading"])),[[z]])],4)]),default:n(()=>[b((d(),f(C,{class:"ba-table-form-scrollbar"},{default:n(()=>[v("div",{class:W(["ba-operate-form","ba-"+e(l).form.operate+"-form"]),style:w(e(_).layout.shrink?"":"width: calc(100% - "+e(l).form.labelWidth/2+"px)")},[e(l).form.loading?j("",!0):(d(),f(q,{key:0,ref_key:"formRef",ref:m,onSubmit:o[19]||(o[19]=g(()=>{},["prevent"])),onKeyup:o[20]||(o[20]=y(t=>e(l).onSubmit(m.value),["enter"])),model:e(l).form.items,"label-position":e(_).layout.shrink?"top":"right","label-width":e(l).form.labelWidth+"px",rules:U},{default:n(()=>[r(s,{label:e(a)("business.card.name"),type:"string",modelValue:e(l).form.items.name,"onUpdate:modelValue":o[0]||(o[0]=t=>e(l).form.items.name=t),prop:"name",placeholder:e(a)("Please input field",{field:e(a)("business.card.name")})},null,8,["label","modelValue","placeholder"]),r(s,{label:"主题颜色",type:"color",modelValue:e(l).form.items.theme_color,"onUpdate:modelValue":o[1]||(o[1]=t=>e(l).form.items.theme_color=t),prop:"theme_color",placeholder:e(a)("Please input field",{field:e(a)("business.card.theme_color")})},null,8,["modelValue","placeholder"]),r(s,{label:"头像",type:"image",modelValue:e(l).form.items.avatar,"onUpdate:modelValue":o[2]||(o[2]=t=>e(l).form.items.avatar=t),prop:"avatar"},null,8,["modelValue"]),r(s,{label:"分组",type:"remoteSelects",modelValue:e(l).form.items.classify_ids,"onUpdate:modelValue":o[3]||(o[3]=t=>e(l).form.items.classify_ids=t),prop:"classify_ids","input-attr":{pk:"zb_business_classify.id",field:"string",remoteUrl:"/admin/business.Classify/index"},placeholder:"请选择名片分组"},null,8,["modelValue"]),r(s,{label:e(a)("business.card.banner"),type:"images",modelValue:e(l).form.items.banner,"onUpdate:modelValue":o[4]||(o[4]=t=>e(l).form.items.banner=t),prop:"banner"},null,8,["label","modelValue"]),r(s,{label:e(a)("business.card.phone"),type:"string",modelValue:e(l).form.items.phone,"onUpdate:modelValue":o[5]||(o[5]=t=>e(l).form.items.phone=t),prop:"phone",placeholder:e(a)("Please input field",{field:e(a)("business.card.phone")})},null,8,["label","modelValue","placeholder"]),r(s,{label:e(a)("business.card.wechat"),type:"string",modelValue:e(l).form.items.wechat,"onUpdate:modelValue":o[6]||(o[6]=t=>e(l).form.items.wechat=t),prop:"wechat",placeholder:e(a)("Please input field",{field:e(a)("business.card.wechat")})},null,8,["label","modelValue","placeholder"]),r(s,{label:e(a)("business.card.address"),type:"string",modelValue:e(l).form.items.address,"onUpdate:modelValue":o[7]||(o[7]=t=>e(l).form.items.address=t),prop:"address",placeholder:e(a)("Please input field",{field:e(a)("business.card.address")})},null,8,["label","modelValue","placeholder"]),r(s,{label:e(a)("business.card.wechat_qrcode"),type:"image",modelValue:e(l).form.items.wechat_qrcode,"onUpdate:modelValue":o[8]||(o[8]=t=>e(l).form.items.wechat_qrcode=t),prop:"wechat_qrcode"},null,8,["label","modelValue"]),r(s,{label:e(a)("business.card.phone_icon"),type:"image",modelValue:e(l).form.items.phone_icon,"onUpdate:modelValue":o[9]||(o[9]=t=>e(l).form.items.phone_icon=t),prop:"phone_icon"},null,8,["label","modelValue"]),r(s,{label:e(a)("business.card.wechat_icon"),type:"image",modelValue:e(l).form.items.wechat_icon,"onUpdate:modelValue":o[10]||(o[10]=t=>e(l).form.items.wechat_icon=t),prop:"wechat_icon"},null,8,["label","modelValue"]),r(s,{label:e(a)("business.card.address_icon"),type:"image",modelValue:e(l).form.items.address_icon,"onUpdate:modelValue":o[11]||(o[11]=t=>e(l).form.items.address_icon=t),prop:"address_icon"},null,8,["label","modelValue"]),r(s,{label:"内容图集",type:"images",modelValue:e(l).form.items.content_imgs,"onUpdate:modelValue":o[12]||(o[12]=t=>e(l).form.items.content_imgs=t),prop:"content_imgs",placeholder:"请选择内容图集"},null,8,["modelValue"]),r(s,{label:e(a)("business.card.content")+"(即将废弃)",type:"editor",modelValue:e(l).form.items.content,"onUpdate:modelValue":o[13]||(o[13]=t=>e(l).form.items.content=t),prop:"content",onKeyup:[o[14]||(o[14]=y(g(()=>{},["stop"]),["enter"])),o[15]||(o[15]=y(g(t=>e(l).onSubmit(m.value),["ctrl"]),["enter"]))],placeholder:e(a)("Please input field",{field:e(a)("business.card.content")})},null,8,["label","modelValue","placeholder"]),r(s,{label:"分享标题",tip:{content:"如果不填写，则不开启该功能，默认为微信默认分享规则",rawContent:!0},type:"string",modelValue:e(l).form.items.share_title,"onUpdate:modelValue":o[16]||(o[16]=t=>e(l).form.items.share_title=t),prop:"share_title",placeholder:"请输入分享标题"},null,8,["modelValue"]),r(s,{label:"分享图",type:"image",modelValue:e(l).form.items.share_img,"onUpdate:modelValue":o[17]||(o[17]=t=>e(l).form.items.share_img=t),prop:"share_img",placeholder:"请输入分享图"},null,8,["modelValue"]),r(s,{label:"状态",type:"switch",modelValue:e(l).form.items.status,"onUpdate:modelValue":o[18]||(o[18]=t=>e(l).form.items.status=t),prop:"status",placeholder:e(a)("Please input field",{field:e(a)("business.card.content")}),"input-attr":{content:{0:"禁用",1:"正常"}}},null,8,["modelValue","placeholder"])]),_:1},8,["model","label-position","label-width","rules"]))],6)]),_:1})),[[P,e(l).form.loading]])]),_:1},8,["model-value","onClose"])}}});export{X as _};
